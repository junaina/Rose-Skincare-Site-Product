<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cart</title>
    <link rel="stylesheet" href="cart1.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/2a65d45040.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <header>
      <div class="nav container">
        <div class="logo">
          <a href="index.html">
            <img src="img/rosse logo.png" alt="Rosse logo" />
          </a>
        </div>
        <div class="carticon">
          <i class="bx bxs-shopping-bag" id="cart-icon"></i>
        </div>
        <div class="navbar">
          <nav class="navbar">
            <ul>
              <li><a href="#">Shop All</a></li>
              <li><a href="#">Categories</a></li>
              <li><a href="#">What's New</a></li>
              <li><a href="#">Home</a></li>
            </ul>
          </nav>
        </div>
      </div>
      <div class="cart">
        <h2 class="cart-title">Your Cart</h2>
        <i class="bx bx-x" id="close-cart"></i>
        <div class="cart-content">
          <div class="cart-box">
            <img
              src="img/pexels-misolo-cosmetic-5113049.jpg"
              alt=""
              class="cart-img"
            />
            <div class="detail-box">
              <div class="cart-product-title">Skin Serum</div>
              <div class="cart-price">Rs. 2500</div>
              <input
                type="number"
                name="quantity"
                value="1"
                min="1"
                max="10"
                step="1"
                id="cart-quantity"
              />
            </div>
            <i class="bx bxs-trash" id="cart-remove"></i>
          </div>
        </div>
        <div class="total">
          <div class="total-title">Total</div>
          <div class="total-price">Rs.2500</div>
        </div>
        <button type="button" class="btn-buy">Buy Now</button>
      </div>
    </header>

    <div class="main-body">
      <section class="shop container">
        <h1 class="section-title">shop products</h1>

        <div class="shop-contents">
          <div class="product-box">
            <div class="product-wrapper">
              <img
                src="img/pexels-misolo-cosmetic-5113049.jpg"
                alt=""
                class="product-img"
              />
              <div class="ribbon">
                <div class="ribbon-inner">
                  Add to Bag
                  <div class="bagicon">
                    <i class="bx bxs-shopping-bag" id="bag-icon"></i>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="product-title">Skin Serum</h2>
            <span class="price">Rs.2500</span>
          </div>

          <div class="product-box">
            <div class="product-wrapper">
              <img
                src="img/pexels-misolo-cosmetic-5113049.jpg"
                alt=""
                class="product-img"
              />
              <div class="ribbon">
                <div class="ribbon-inner">
                  Add to Bag
                  <div class="bagicon">
                    <i class="bx bxs-shopping-bag" id="bag-icon"></i>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="product-title">Gua Sha</h2>
            <span class="price">Rs.2500</span>
          </div>

          <div class="product-box">
            <div class="product-wrapper">
              <img
                src="img/pexels-misolo-cosmetic-5113049.jpg"
                alt=""
                class="product-img"
              />
              <div class="ribbon">
                <div class="ribbon-inner">
                  Add to Bag
                  <div class="bagicon">
                    <i class="bx bxs-shopping-bag" id="bag-icon"></i>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="product-title">Hyalauronic Acid Serum</h2>
            <span class="price">Rs.2500</span>
          </div>

          <div class="product-box">
            <div class="product-wrapper">
              <img
                src="img/pexels-misolo-cosmetic-5113049.jpg"
                alt=""
                class="product-img"
              />
              <div class="ribbon">
                <div class="ribbon-inner">
                  Add to Bag
                  <div class="bagicon">
                    <i class="bx bxs-shopping-bag" id="bag-icon"></i>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="product-title">SPF 40</h2>
            <span class="price">Rs.2500</span>
          </div>

          <div class="product-box">
            <div class="product-wrapper">
              <img
                src="img/pexels-misolo-cosmetic-5113049.jpg"
                alt=""
                class="product-img"
              />
              <div class="ribbon">
                <div class="ribbon-inner">
                  Add to Bag
                  <div class="bagicon">
                    <i class="bx bxs-shopping-bag" id="bag-icon"></i>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="product-title">Revitalising Cell Serum</h2>
            <span class="price">Rs.2500</span>
          </div>

          <div class="product-box">
            <div class="product-wrapper">
              <img
                src="img/pexels-misolo-cosmetic-5113049.jpg"
                alt=""
                class="product-img"
              />
              <div class="ribbon">
                <div class="ribbon-inner">
                  Add to Bag
                  <div class="bagicon">
                    <i class="bx bxs-shopping-bag" id="bag-icon"></i>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="product-title">Charcoal Mask</h2>
            <span class="price">Rs.32500</span>
          </div>

          <div class="product-box">
            <div class="product-wrapper">
              <img
                src="img/pexels-misolo-cosmetic-5113049.jpg"
                alt=""
                class="product-img"
              />
              <div class="ribbon">
                <div class="ribbon-inner">
                  Add to Bag
                  <div class="bagicon">
                    <i class="bx bxs-shopping-bag" id="bag-icon"></i>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="product-title">Moisturiser</h2>
            <span class="price">Rs.500</span>
          </div>

          <div class="product-box">
            <div class="product-wrapper">
              <img
                src="img/pexels-misolo-cosmetic-5113049.jpg"
                alt=""
                class="product-img"
              />
              <div class="ribbon">
                <div class="ribbon-inner">
                  Add to Bag
                  <div class="bagicon">
                    <i class="bx bxs-shopping-bag" id="bag-icon"></i>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="product-title">Niacinimide Cream</h2>
            <span class="price">Rs.1500</span>
          </div>
        </div>
      </section>
    </div>
    <script>
      //cart
      let cartIcon = document.querySelector("#cart-icon");
      let cart = document.querySelector(".cart");
      let closeCart = document.querySelector("#close-cart");
      //open
      cartIcon.onclick = () => {
        cart.classList.add("active");
      };
      //close
      closeCart.onclick = () => {
        cart.classList.remove("active");
      };
      //cart working
      if (document.readyState == "loading") {
        document.addEventListener("DOMContentLoaded", ready);
      } else {
        ready();
      }

      //function
      function ready() {
        const cartRemoveBtn = document.querySelector("#cart-remove");
        cartRemoveBtn.addEventListener("click", removeCartItem);
        for (var i = 0; i < cartRemoveBtn.length; i++) {
          var button = cartRemoveBtn[i];
          button.addEventListener("click", removeCartItem);
        }

        //updating quantity
        var quantityInputs = document.getElementsByClassName("cart-quantity");
        for (var i = 0; i < quantityInputs.length; i++) {
          var input = quantityInputs[i];
          input.addEventListener("change", quantityChanged);
        }
        //add to cart
        var addCart = document.getElementsByClassName("ribbon");
        for (var i = 0; i < addCart.length; i++) {
          var button = addCart[i];
          button.addEventListener("click", addCartClicked);
        }
      }
      //updating quantity function
      function quantityChanged(event) {
        var input = event.target;
        if (isNaN(input.value) || input.value <= 0) {
          input.value = 1;
        }
        updateTotal();
      }
      //add cart clicked function
      function addCartClicked(event) {
        var button = event.target;
        var shopProduct = button.parentElement.parentElement.parentElement;
        var title =
          shopProduct.getElementsByClassName("product-title")[0].innerText;
        var price = shopProduct.getElementsByClassName("price")[0].innerText;
        var productImg =
          shopProduct.getElementsByClassName("product-img")[0].src;
        addProductToCart(title, price, productImg);
        updateTotal();
      }

      //remove items function
      function removeCartItem() {
        const cartItem = document.querySelector(".cart-box");
        cartItem.remove();
        updateTotal();
      }

      function updateTotal() {
        const cartItems = document.querySelectorAll(".cart-box");
        let total = 0;
        cartItems.forEach((cartItem) => {
          const priceElement = cartItem.querySelector(".cart-price");
          const price = parseFloat(priceElement.textContent.replace("Rs.", ""));
          const quantityElement = cartItem.querySelector("#cart-quantity");
          const quantity = quantityElement.value;
          total += price * quantity;
        });
        const totalElement = document.querySelector(".total-price");
        totalElement.textContent = "Rs." + total.toFixed(2);
      }
    </script>
  </body>
</html>
<!-- function updateTotal() { var cartContent =
document.getElementsByClassName("cart-content")[0]; var cartBoxes =
cartContent.getElementsByClassName("cart-box"); var total = 0; for (var i = 0; i
< cartBoxes.length; i++) { var cartBox = cartBoxes[i]; var priceElement =
cartBox.getElementsByClassName("cart-price")[0]; var quantityElement =
cartBox.getElementsByClassName("cart-quantity")[0]; var price =
parseFloat(priceElement.innerText.replace("$", "")); var quantity =
quantityElement.value; total = total + price * quantity;
document.getElementsByClassName("total-price")[0].innerText = "$" + total; } } -->
